//
//  SelectRoleViewController.m
//  ChuJinZhaoPin
//
//  Created by eims on 2018/10/30.
//  Copyright © 2018 Monster. All rights reserved.
//

#import "SelectRoleViewController.h"
#import "LoginViewController.h"
#import "ChangeRoleViewController.h"
#import "GetAddressFile.h"
@interface SelectRoleViewController ()

@end

@implementation SelectRoleViewController

- (void)viewDidLoad {
    [super viewDidLoad];
    
    [self initUI];
    // Do any additional setup after loading the view.
}
-(void)viewWillAppear:(BOOL)animated{
    [super viewWillAppear:animated];
    self.navigationController.navigationBar.hidden = YES;
//    self.navigationController.navigationBar.translucent = YES;
//    self.navigationController.navigationBar.barTintColor = [UIColor whiteColor];
}
- (void)viewDidDisappear:(BOOL)animated{
    [super viewDidDisappear:animated];
    self.navigationController.navigationBar.hidden = NO;
}

-(void)initUI{
//    self.title = @"登录";
    self.view.backgroundColor = RGBCOLOR(245, 245, 245);
    
    UIView *topView = [UIView new];
    topView.backgroundColor = RGBCOLOR(255, 255, 255);
    [self.view addSubview:topView];
    [topView mas_makeConstraints:^(MASConstraintMaker *make) {
        make.height.mas_equalTo(kNavBarHeight);
        make.top.left.right.mas_offset(0);
    }];
    UILabel *titleLab = [UILabel ym_labelWithFrame:CGRectZero font:FONT_SIZE_15 textColor:COLOR_RGB_51];
    titleLab.text = @"登录";
    [topView addSubview:titleLab];
    [titleLab mas_makeConstraints:^(MASConstraintMaker *make) {
        make.centerX.equalTo(topView);
        make.bottom.mas_offset(-Size(13));
    }];
    
//我要求职
    UIView *personView = [UIView new];
    personView.backgroundColor = RGBCOLOR(255, 255, 255);
    [self.view addSubview:personView];
    [personView mas_makeConstraints:^(MASConstraintMaker *make) {
        make.top.equalTo(topView.mas_bottom).mas_offset(Size(15));
        make.left.mas_offset(Size(15));
        make.right.mas_offset(-Size(15));
        make.height.mas_equalTo(Size(440/2));
    }];
    
    UIImageView *personImgV = [[UIImageView alloc]initWithImage:[UIImage imageNamed:@"我要求职"]];
    [personView addSubview:personImgV];
    [personImgV mas_makeConstraints:^(MASConstraintMaker *make) {
        make.top.left.right.bottom.mas_offset(0);
    }];
    
    UIButton *jobBtn = [UIButton ym_ButtonWithFrame:CGRectZero title:@"我要求职" backgroundColor:COLOR_MAIN_PERSON titleColor:COLOR_RGB_51 titleSize:Size(15)];
    jobBtn.layer.cornerRadius = Size(80/4);
    [jobBtn addTarget:self action:@selector(doSelectRole:) forControlEvents:UIControlEventTouchUpInside];
    [personView addSubview:jobBtn];
    [jobBtn mas_makeConstraints:^(MASConstraintMaker *make) {
        make.centerX.mas_equalTo(personView);
        make.height.mas_equalTo(Size(80/2));
        make.width.mas_equalTo(Size(389/2));
        make.bottom.mas_offset(-Size(20));
    }];
    
//我要招聘
    UIView *enterpriseView = [UIView new];
    enterpriseView.backgroundColor = RGBCOLOR(255, 255, 255);
    [self.view addSubview:enterpriseView];
    [enterpriseView mas_makeConstraints:^(MASConstraintMaker *make) {
        make.top.mas_equalTo(personView.mas_bottom).mas_offset(Size(15));
        make.left.mas_offset(Size(15));
        make.right.mas_offset(-Size(15));
        make.height.mas_equalTo(Size(440/2));
    }];
    
    UIImageView *enterpriseImgV = [[UIImageView alloc]initWithImage:[UIImage imageNamed:@"我要招聘"]];
    [enterpriseView addSubview:enterpriseImgV];
    [enterpriseImgV mas_makeConstraints:^(MASConstraintMaker *make) {
        make.top.left.right.bottom.mas_offset(0);
    }];
    
    UIButton *recruitmentBtn = [UIButton ym_ButtonWithFrame:CGRectZero title:@"我要招聘" backgroundColor:COLOR_MAIN_ENTERPRISE titleColor:COLOR_RGB_51 titleSize:Size(15)];
    recruitmentBtn.layer.cornerRadius = Size(80/4);
    [recruitmentBtn addTarget:self action:@selector(doSelectRole:) forControlEvents:UIControlEventTouchUpInside];
    [enterpriseView addSubview:recruitmentBtn];
    [recruitmentBtn mas_makeConstraints:^(MASConstraintMaker *make) {
        make.centerX.mas_equalTo(personView);
        make.height.mas_equalTo(Size(80/2));
        make.width.mas_equalTo(Size(389/2));
        make.bottom.mas_offset(-Size(20));
    }];
}
-(void)doSelectRole:(UIButton *)btn{
    if ([btn.titleLabel.text isEqualToString:@"我要求职"]) {
        AppDelegateInstance.userType = 0;
        
//        ChangeRoleViewController *vc = [ChangeRoleViewController new];
        LoginViewController *vc = [LoginViewController new];
        [self.navigationController.navigationBar setBarTintColor:COLOR_MAIN];
        [self.navigationController pushViewController:vc animated:YES];
    }else{
        AppDelegateInstance.userType = 1;
        LoginViewController *vc = [LoginViewController new];
        [self.navigationController.navigationBar setBarTintColor:COLOR_MAIN];
        [self.navigationController pushViewController:vc animated:YES];
    }
    

    //请求 省、市、区 信息存储到本地
//    [[RHNetAPIManager sharedManager]appFindCityListOPT].start(^(id data, NSString *msg, NSInteger code, NSError *error) {
//        if (data) {
//            //data[@"data"]
//            
//            GetAddressFile *obj = [[GetAddressFile alloc]init];
////            NSDictionary *townDic = @{@"id":@"1",@"name":@"光山",@"data":@[]};
////            NSDictionary *cityDic = @{@"id":@"1",@"name":@"信阳",@"data":@[townDic]};
////            NSDictionary *provinceDic = @{@"id":@"1",@"name":@"河南",@"data":@[cityDic]};
//            
//            [obj writeDataToPlist:@{@"data":data[@"data"]}];
//        }
//    });
    
    
    
    //AppDelegateInstance.window.rootViewController = [MainTabBarController new];
}
/*
#pragma mark - Navigation

// In a storyboard-based application, you will often want to do a little preparation before navigation
- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender {
    // Get the new view controller using [segue destinationViewController].
    // Pass the selected object to the new view controller.
}
*/

@end
