//
//  ChatJobHeadView.m
//  ChuJinZhaoPin
//
//  Created by eims on 2018/11/6.
//  Copyright © 2018 Monster. All rights reserved.
//

#import "ChatJobHeadView.h"

@implementation ChatJobHeadView
- (instancetype)init
{
    self = [super init];
    if (self) {
        [self initUI];
    }
    return self;
}
- (instancetype)initWithFrame:(CGRect)frame
{
    self = [super initWithFrame:frame];
    if (self) {
        [self initUI];
    }
    return self;
}

-(void)initUI{
    self.backgroundColor = RGBCOLOR(255, 255, 255);
    
    _jobNameLab = [UILabel ym_labelWithFrame:CGRectZero font:[UIFont systemFontOfSize:Size(14)] textColor:COLOR_RGB_51];
    [self addSubview:_jobNameLab];
    [_jobNameLab mas_makeConstraints:^(MASConstraintMaker *make) {
        make.left.mas_offset(Size(14));
        make.top.mas_offset(Size(20));
        make.width.mas_lessThanOrEqualTo(Size(500/2));
    }];
    _jobNameLab.text = @"产品经理";
    
    _moneyLab = [UILabel ym_labelWithFrame:CGRectZero font:[UIFont systemFontOfSize:Size(14)] textColor:RGBCOLOR(255, 101, 64)];
    [self addSubview:_moneyLab];
    [_moneyLab mas_makeConstraints:^(MASConstraintMaker *make) {
        make.right.mas_offset(-Size(15));
        make.top.mas_offset(Size(17));
        make.width.mas_lessThanOrEqualTo(Size(190/2));
    }];
    _moneyLab.text = @"7~9K";
    
    
    _logoImgV = [UIImageView new];
    _logoImgV.contentMode = UIViewContentModeScaleAspectFit;
    [self addSubview:_logoImgV];
    [_logoImgV mas_makeConstraints:^(MASConstraintMaker *make) {
        make.left.mas_offset(Size(15));
        make.width.mas_equalTo(Size(74/2));
        make.height.mas_equalTo(Size(60/2));
        make.bottom.mas_offset(-Size(16));
    }];
    _logoImgV.image = [UIImage imageNamed:@"附近职位logo"];
    
    _companyLab = [UILabel ym_labelWithFrame:CGRectZero font:[UIFont systemFontOfSize:Size(13)] textColor:COLOR_RGB_51];
    [self addSubview:_companyLab];
    [_companyLab mas_makeConstraints:^(MASConstraintMaker *make) {
        make.left.equalTo(_logoImgV.mas_right).mas_offset(Size(10));
        make.top.equalTo(_logoImgV.mas_top);
    }];
    _companyLab.text = @"shopee";
    
    UIImageView *tempImgV;
    for (int i = 0; i<5; i++) {
        UIImageView *imgV = [[UIImageView alloc]initWithImage:[UIImage imageNamed:@"职位详情-收藏01"]];
        [self addSubview:imgV];
        [imgV mas_makeConstraints:^(MASConstraintMaker *make) {
            if (!tempImgV) {
                make.left.equalTo(_logoImgV.mas_right).mas_offset(Size(10));
                make.bottom.equalTo(_logoImgV.mas_bottom);
            }else{
                make.left.equalTo(tempImgV.mas_right).mas_offset(Size(5));
                make.top.equalTo(tempImgV);
            }
            make.width.height.mas_equalTo(Size(23/2));
            
        }];
        tempImgV = imgV;
        [self.starImgVArr addObject:imgV];
    }
    
    _scoreLab = [UILabel ym_labelWithFrame:CGRectZero font:[UIFont systemFontOfSize:Size(11)] textColor:COLOR_RGB_153];
    [self addSubview:_scoreLab];
    [_scoreLab mas_makeConstraints:^(MASConstraintMaker *make) {
        make.left.equalTo(self.starImgVArr.lastObject.mas_right).mas_offset(Size(8));
        make.centerY.equalTo(self.starImgVArr.lastObject);
    }];
    _scoreLab.text = @"4.5分";
    
    NSArray *arr = @[@"北京 | 中关村",@"本科",@"移动互联网"];
    UILabel *tempLab;
    for (int i=0; i<arr.count; i++) {
        UILabel *lab = [UILabel ym_labelWithFrame:CGRectZero font:[UIFont systemFontOfSize:Size(10)] textColor:COLOR_RGB_153];
        lab.backgroundColor = RGBCOLOR(249, 250, 253);
        lab.layer.cornerRadius = Size(5);
        lab.textAlignment = NSTextAlignmentCenter;
        lab.text = arr[i];
        [self addSubview:lab];
        CGFloat w = [arr[i] ym_getStringWidthfont:[UIFont systemFontOfSize:Size(10)]];
        [lab mas_makeConstraints:^(MASConstraintMaker *make) {
            if (!tempLab) {
                make.left.mas_offset(Size(14));
                make.top.equalTo(_jobNameLab.mas_bottom).mas_offset(Size(12));
            }else{
                make.left.equalTo(tempLab.mas_right).mas_offset(Size(7));
                make.top.equalTo(tempLab);
            }
            make.height.mas_equalTo(Size(35/2));
            make.width.mas_equalTo(w+Size(10));
        }];
        
        tempLab = lab;
    }
}


-(NSMutableArray<UIImageView *> *)starImgVArr{
    if (!_starImgVArr) {
        _starImgVArr = [NSMutableArray array];
    }
    return _starImgVArr;
}
/*
// Only override drawRect: if you perform custom drawing.
// An empty implementation adversely affects performance during animation.
- (void)drawRect:(CGRect)rect {
    // Drawing code
}
*/

@end
